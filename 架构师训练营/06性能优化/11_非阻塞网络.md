# 性能优化

## 非阻塞网络

### 阻塞IO

阻塞I/O：进行I/O 操作时，用户线程会一直阻塞，直到读操作或者写操作完成。

### 非阻塞IO

非阻塞I/O：I/O 操作立即返回,发起线程不会阻塞等待。
非阻塞read 操作：
- Socket 接收缓冲区有数据，读n 个（不保证数据被读完整，因此有可能需要多次读）。
- Socket 接收缓冲区没数据，则返回失败（不会等待）。
非阻塞write：
- Socket 发送缓冲区满，返回失败（不会等待）。
- Socket 发送缓冲区不满，写n 个数据（不保证一次性全部写入，因此可能需要多次写）。

好难

使用非阻塞的网络通信，利用极少的网络线程，监听非常多的socket，实现性能提升